<!doctype html>
<html lang="vi" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gi·∫£i C·ª©u Linh H·ªìn L√£o H·∫°c</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="/_sdk/data_sdk.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&amp;family=Cormorant+Garamond:ital,wght@0,400;0,600;1,400&amp;display=swap" rel="stylesheet">
  <style>
    body {
      box-sizing: border-box;
    }
    
    * {
      box-sizing: border-box;
    }
    
    .font-title {
      font-family: 'Playfair Display', serif;
    }
    
    .font-body {
      font-family: 'Cormorant Garamond', serif;
    }
    
    @keyframes float {
      0%, 100% { transform: translateY(0px) rotate(0deg); }
      50% { transform: translateY(-10px) rotate(2deg); }
    }
    
    @keyframes pulse-glow {
      0%, 100% { opacity: 0.4; filter: blur(20px); }
      50% { opacity: 0.7; filter: blur(30px); }
    }
    
    @keyframes flicker {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.8; }
      25%, 75% { opacity: 0.9; }
    }
    
    @keyframes drift {
      0% { transform: translateX(0) translateY(0); }
      25% { transform: translateX(10px) translateY(-5px); }
      50% { transform: translateX(5px) translateY(5px); }
      75% { transform: translateX(-5px) translateY(-3px); }
      100% { transform: translateX(0) translateY(0); }
    }
    
    @keyframes fade-in-up {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    @keyframes sand-fall {
      0% { transform: scaleY(1); }
      100% { transform: scaleY(0); }
    }
    
    .animate-float {
      animation: float 6s ease-in-out infinite;
    }
    
    .animate-glow {
      animation: pulse-glow 4s ease-in-out infinite;
    }
    
    .animate-flicker {
      animation: flicker 3s ease-in-out infinite;
    }
    
    .animate-drift {
      animation: drift 8s ease-in-out infinite;
    }
    
    .animate-fade-in {
      animation: fade-in-up 0.8s ease-out forwards;
    }
    
    .fog-layer {
      background: linear-gradient(180deg, 
        transparent 0%, 
        rgba(139, 119, 101, 0.1) 30%, 
        rgba(139, 119, 101, 0.2) 50%, 
        rgba(139, 119, 101, 0.1) 70%, 
        transparent 100%);
    }
    
    .vignette {
      box-shadow: inset 0 0 150px rgba(0, 0, 0, 0.7);
    }
    
    .text-shadow-dark {
      text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.8);
    }
    
    .btn-ancient {
      background: linear-gradient(135deg, #5c4a3d 0%, #3d3229 100%);
      border: 2px solid #8b7355;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.1);
      transition: all 0.3s ease;
    }
    
    .btn-ancient:hover {
      background: linear-gradient(135deg, #6d5a4a 0%, #4d4239 100%);
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.15);
      transform: translateY(-2px);
    }
    
    .card-ancient {
      background: linear-gradient(145deg, rgba(61, 50, 41, 0.95) 0%, rgba(45, 37, 30, 0.98) 100%);
      border: 1px solid rgba(139, 115, 85, 0.3);
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
    }
    
    .progress-dog {
      transition: left 0.8s ease-out;
    }
    
    .input-ancient {
      background: rgba(30, 25, 20, 0.8);
      border: 1px solid rgba(139, 115, 85, 0.4);
      transition: all 0.3s ease;
    }
    
    .input-ancient:focus {
      border-color: rgba(212, 175, 55, 0.6);
      box-shadow: 0 0 15px rgba(212, 175, 55, 0.2);
      outline: none;
    }
    
    .memory-fragment {
      background: radial-gradient(ellipse at center, rgba(212, 175, 55, 0.2) 0%, transparent 70%);
    }
    
    .scene-transition {
      transition: opacity 0.5s ease, transform 0.5s ease;
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
 </head>
 <body class="h-full font-body text-stone-200 overflow-auto">
  <div id="app-wrapper" class="min-h-full w-full relative" style="background: linear-gradient(180deg, #1a1510 0%, #2d2520 50%, #1a1510 100%);"><!-- Atmospheric Background Elements -->
   <div class="absolute inset-0 overflow-hidden pointer-events-none"><!-- Fog layers -->
    <div class="fog-layer absolute inset-0 animate-drift"></div><!-- Floating particles -->
    <div class="absolute top-1/4 left-1/4 w-2 h-2 bg-amber-200/20 rounded-full animate-float" style="animation-delay: 0s;"></div>
    <div class="absolute top-1/3 right-1/3 w-1 h-1 bg-amber-100/30 rounded-full animate-float" style="animation-delay: 1s;"></div>
    <div class="absolute top-2/3 left-1/2 w-1.5 h-1.5 bg-amber-200/20 rounded-full animate-float" style="animation-delay: 2s;"></div>
    <div class="absolute top-1/2 right-1/4 w-1 h-1 bg-amber-100/25 rounded-full animate-float" style="animation-delay: 3s;"></div><!-- Ambient glow -->
    <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-amber-900/30 rounded-full animate-glow"></div>
   </div><!-- Vignette overlay -->
   <div class="vignette absolute inset-0 pointer-events-none"></div><!-- Main Content Container -->
   <div class="relative z-10 min-h-full flex flex-col"><!-- Header with Progress -->
    <header class="p-4 md:p-6">
     <div class="max-w-4xl mx-auto"><!-- Title -->
      <div class="text-center mb-4">
       <h1 id="game-title" class="font-title text-2xl md:text-4xl font-bold text-amber-100 text-shadow-dark animate-flicker">Gi·∫£i C·ª©u Linh H·ªìn L√£o H·∫°c</h1>
       <p id="game-subtitle" class="font-body text-sm md:text-lg text-stone-400 mt-1 italic">H√†nh tr√¨nh xuy√™n th·ªùi gian c·ªßa Th√°m T·ª≠</p>
      </div><!-- Progress Bar -->
      <div id="progress-container" class="hidden">
       <div class="relative bg-stone-800/60 rounded-full h-8 md:h-10 border border-stone-700/50 overflow-hidden">
        <div id="progress-bar" class="absolute inset-y-0 left-0 bg-gradient-to-r from-amber-900/80 to-amber-700/80 rounded-full transition-all duration-700" style="width: 0%"></div><!-- Dog icon moving along progress -->
        <div id="progress-dog" class="progress-dog absolute top-1/2 -translate-y-1/2 -translate-x-1/2 text-2xl md:text-3xl" style="left: 0%">
         üêï
        </div><!-- L√£o H·∫°c at the end -->
        <div class="absolute right-2 top-1/2 -translate-y-1/2 text-xl md:text-2xl opacity-50">
         üë¥
        </div><!-- Progress text -->
        <div class="absolute inset-0 flex items-center justify-center"><span id="progress-text" class="text-xs md:text-sm font-semibold text-amber-100/90 drop-shadow-lg"> M·∫£nh k√Ω ·ª©c: 0/10 </span>
        </div>
       </div>
      </div>
     </div>
    </header><!-- Main Game Area -->
    <main class="flex-1 px-4 pb-6">
     <div class="max-w-4xl mx-auto"><!-- START SCREEN -->
      <div id="start-screen" class="animate-fade-in">
       <div class="card-ancient rounded-2xl p-6 md:p-10 text-center"><!-- Atmospheric illustration -->
        <div class="relative w-48 h-48 md:w-64 md:h-64 mx-auto mb-6">
         <div class="absolute inset-0 bg-gradient-to-b from-amber-900/20 to-transparent rounded-full animate-glow"></div>
         <div class="absolute inset-4 flex items-center justify-center">
          <div class="text-7xl md:text-8xl animate-float">
           üë¥
          </div>
         </div>
         <div class="absolute bottom-4 right-4 text-4xl md:text-5xl animate-float" style="animation-delay: 1s;">
          üêï
         </div><!-- Ghost effect -->
         <div class="absolute inset-0 bg-gradient-to-t from-transparent via-amber-100/5 to-transparent rounded-full"></div>
        </div>
        <h2 class="font-title text-xl md:text-3xl text-amber-200 mb-4">L·ªùi K√™u G·ªçi T·ª´ Qu√° Kh·ª©</h2>
        <div class="max-w-xl mx-auto mb-6">
         <p class="text-stone-300 text-base md:text-lg leading-relaxed mb-4 italic">"C·∫≠u V√†ng... C·∫≠u V√†ng c·ªßa l√£o..."</p>
         <p class="text-stone-400 text-sm md:text-base leading-relaxed">Linh h·ªìn L√£o H·∫°c ƒëang b·ªã giam c·∫ßm trong v√≤ng l·∫∑p c·ªßa k√Ω ·ª©c ƒëau th∆∞∆°ng. Nh·ªØng c√¢u h·ªèi ch∆∞a ƒë∆∞·ª£c gi·∫£i ƒë√°p, nh·ªØng day d·ª©t ch∆∞a ngu√¥i... Ch·ªâ c√≥ Th√°m T·ª≠ Th·ªùi Gian m·ªõi c√≥ th·ªÉ gi·∫£i tho√°t cho L√£o.</p>
        </div><!-- Hourglass animation -->
        <div class="flex justify-center mb-6">
         <div class="text-4xl animate-pulse">
          ‚è≥
         </div>
        </div>
        <div class="space-y-4"><input type="text" id="player-name-input" placeholder="Nh·∫≠p t√™n Th√°m T·ª≠ c·ªßa b·∫°n..." class="input-ancient w-full max-w-xs mx-auto block px-4 py-3 rounded-lg text-amber-100 placeholder-stone-500 text-center font-body text-lg"> <button id="start-btn" class="btn-ancient px-8 py-3 rounded-lg font-title text-lg text-amber-100 hover:text-amber-50"> B·∫Øt ƒê·∫ßu H√†nh Tr√¨nh </button>
        </div>
       </div>
      </div><!-- GAME SCREEN -->
      <div id="game-screen" class="hidden"><!-- Scene Container -->
       <div class="card-ancient rounded-2xl overflow-hidden"><!-- Scene Header -->
        <div id="scene-header" class="bg-gradient-to-r from-stone-900/80 to-stone-800/80 px-4 py-3 border-b border-stone-700/30">
         <div class="flex items-center justify-between">
          <div><span id="level-badge" class="inline-block bg-amber-900/60 text-amber-200 text-xs px-2 py-1 rounded-full font-semibold"> M√†n 1 </span>
           <h3 id="scene-title" class="font-title text-lg md:text-xl text-amber-100 mt-1">Ng√¥i Nh√† Hoang V·∫Øng</h3>
          </div>
          <div class="text-right">
           <div class="text-amber-200/80 text-sm">
            ƒêi·ªÉm s·ªë
           </div>
           <div id="score-display" class="font-title text-xl text-amber-100">
            0
           </div>
          </div>
         </div>
        </div><!-- Scene Illustration -->
        <div id="scene-illustration" class="relative h-40 md:h-56 bg-gradient-to-b from-stone-900 to-stone-800 overflow-hidden">
         <div class="absolute inset-0 flex items-center justify-center">
          <div id="scene-visual" class="text-6xl md:text-8xl animate-float">
           üèöÔ∏è
          </div>
         </div><!-- Memory fragments collected -->
         <div id="memory-fragments" class="absolute bottom-2 left-2 flex gap-1"><!-- Filled dynamically -->
         </div>
        </div><!-- Scene Description -->
        <div class="p-4 md:p-6 border-b border-stone-700/30">
         <p id="scene-description" class="text-stone-300 text-sm md:text-base leading-relaxed">Ng∆∞·ªùi ch∆°i xu·∫•t hi·ªán trong m·ªôt cƒÉn nh√† tranh t·ªìi t√†n, ƒë·ªï n√°t, ph·∫£ng ph·∫•t m√πi ·∫©m m·ªëc v√† b·ª•i th·ªùi gian...</p>
        </div><!-- Question Area -->
        <div id="question-area" class="p-4 md:p-6">
         <div class="bg-stone-900/50 rounded-xl p-4 md:p-5 border border-stone-700/30">
          <div class="flex items-start gap-3 mb-4"><span class="text-2xl">‚ùì</span>
           <p id="question-text" class="text-amber-100 text-base md:text-lg font-medium">T√°c gi·∫£ c·ªßa truy·ªán ng·∫Øn "L√£o H·∫°c" l√† ai?</p>
          </div>
          <div class="space-y-3"><input type="text" id="answer-input" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi c·ªßa b·∫°n..." class="input-ancient w-full px-4 py-3 rounded-lg text-amber-100 placeholder-stone-500 text-base">
           <div class="flex flex-wrap gap-2"><button id="submit-answer-btn" class="btn-ancient flex-1 min-w-[120px] px-4 py-2.5 rounded-lg text-amber-100 font-semibold"> X√°c Nh·∫≠n </button> <button id="hint-btn" class="bg-stone-700/50 hover:bg-stone-700/70 border border-stone-600/50 px-4 py-2.5 rounded-lg text-stone-300 transition-all"> üí° G·ª£i √Ω </button>
           </div>
          </div>
         </div><!-- Feedback Area -->
         <div id="feedback-area" class="hidden mt-4 p-4 rounded-xl">
          <div class="flex items-start gap-3"><span id="feedback-icon" class="text-2xl">‚ú®</span>
           <div>
            <p id="feedback-title" class="font-semibold text-lg mb-1">Ch√≠nh x√°c!</p>
            <p id="feedback-text" class="text-sm opacity-90"></p>
           </div>
          </div><button id="continue-btn" class="btn-ancient w-full mt-4 px-4 py-2.5 rounded-lg text-amber-100 font-semibold"> Ti·∫øp T·ª•c H√†nh Tr√¨nh ‚Üí </button>
         </div><!-- Hint Area -->
         <div id="hint-area" class="hidden mt-4 p-4 bg-amber-900/20 rounded-xl border border-amber-700/30">
          <div class="flex items-start gap-3"><span class="text-xl">üí°</span>
           <p id="hint-text" class="text-amber-200/90 text-sm"></p>
          </div>
         </div>
        </div>
       </div>
      </div><!-- END SCREEN -->
      <div id="end-screen" class="hidden">
       <div class="card-ancient rounded-2xl p-6 md:p-10 text-center animate-fade-in"><!-- Victory illustration -->
        <div class="relative w-56 h-56 md:w-72 md:h-72 mx-auto mb-6">
         <div class="absolute inset-0 bg-gradient-to-b from-amber-500/20 to-transparent rounded-full animate-glow"></div>
         <div class="absolute inset-0 flex items-center justify-center">
          <div class="text-center">
           <div class="text-6xl md:text-7xl mb-2">
            üë¥
           </div>
           <div class="text-4xl md:text-5xl">
            üêï
           </div>
          </div>
         </div><!-- Light rays effect -->
         <div class="absolute inset-0 bg-gradient-to-t from-transparent via-amber-200/10 to-amber-100/20 rounded-full animate-pulse"></div>
        </div>
        <h2 class="font-title text-2xl md:text-4xl text-amber-200 mb-4">üåü Linh H·ªìn ƒê√£ ƒê∆∞·ª£c Gi·∫£i Tho√°t! üåü</h2>
        <div class="max-w-xl mx-auto mb-6">
         <p class="text-stone-300 text-base md:text-lg leading-relaxed mb-4">Nh·ªù s·ª± d≈©ng c·∫£m v√† tr√≠ tu·ªá c·ªßa Th√°m T·ª≠ <span id="end-player-name" class="text-amber-200 font-semibold"></span>, linh h·ªìn L√£o H·∫°c cu·ªëi c√πng ƒë√£ ƒë∆∞·ª£c gi·∫£i tho√°t kh·ªèi v√≤ng l·∫∑p ƒëau kh·ªï.</p>
         <p class="text-stone-400 text-sm md:text-base italic">C·∫≠u V√†ng v√† L√£o H·∫°c ƒë√£ ƒëo√†n t·ª• ·ªü th·∫ø gi·ªõi b√™n kia, n∆°i kh√¥ng c√≤n ƒë√≥i kh·ªï, kh√¥ng c√≤n ph·∫£i chia ly...</p>
        </div><!-- Final Stats -->
        <div class="grid grid-cols-2 gap-4 max-w-sm mx-auto mb-6">
         <div class="bg-stone-800/50 rounded-lg p-3 border border-stone-700/30">
          <div class="text-amber-200/70 text-xs uppercase tracking-wide">
           T·ªïng ƒëi·ªÉm
          </div>
          <div id="final-score" class="font-title text-2xl text-amber-100">
           0
          </div>
         </div>
         <div class="bg-stone-800/50 rounded-lg p-3 border border-stone-700/30">
          <div class="text-amber-200/70 text-xs uppercase tracking-wide">
           K√Ω ·ª©c
          </div>
          <div id="final-memories" class="font-title text-2xl text-amber-100">
           10/10
          </div>
         </div>
        </div><button id="restart-btn" class="btn-ancient px-8 py-3 rounded-lg font-title text-lg text-amber-100"> Ch∆°i L·∫°i </button>
       </div>
      </div>
     </div>
    </main><!-- Footer / Journal -->
    <footer class="px-4 pb-4">
     <div class="max-w-4xl mx-auto">
      <div id="journal-container" class="hidden bg-stone-900/40 rounded-xl p-3 border border-stone-700/30">
       <div class="flex items-center gap-2 mb-2"><span class="text-lg">üìú</span> <span class="text-amber-200/80 text-sm font-semibold">Nh·∫≠t K√Ω Th√°m T·ª≠</span>
       </div>
       <div id="journal-entries" class="text-stone-400 text-xs md:text-sm space-y-1 max-h-20 overflow-y-auto"><!-- Journal entries will be added here -->
       </div>
      </div>
     </div>
    </footer>
   </div>
  </div>
  <script>
    // Game Configuration and State
    const defaultConfig = {
      main_title: "Gi·∫£i C·ª©u Linh H·ªìn L√£o H·∫°c",
      subtitle: "H√†nh tr√¨nh xuy√™n th·ªùi gian c·ªßa Th√°m T·ª≠",
      background_color: "#1a1510",
      surface_color: "#2d2520",
      text_color: "#e7e5e4",
      primary_action_color: "#92400e",
      secondary_action_color: "#d4af37"
    };

    // Game Data - Questions and Scenes
    const gameScenes = [
      {
        level: 1,
        title: "Ng√¥i Nh√† Hoang V·∫Øng ‚Äì K√Ω ·ª©c v·ªÅ m·ªôt gia ƒë√¨nh",
        visual: "üèöÔ∏è",
        description: "B·∫°n xu·∫•t hi·ªán trong m·ªôt cƒÉn nh√† tranh t·ªìi t√†n, ƒë·ªï n√°t, ph·∫£ng ph·∫•t m√πi ·∫©m m·ªëc v√† b·ª•i th·ªùi gian. H√¨nh ·∫£nh L√£o H·∫°c ng·ªìi th·∫´n th·ªù, c√¥ ƒë∆°n hi·ªán ra tr∆∞·ªõc m·∫Øt...",
        questions: [
          {
            text: "T√°c gi·∫£ c·ªßa truy·ªán ng·∫Øn \"L√£o H·∫°c\" l√† ai?",
            answers: ["nam cao", "namcao"],
            hint: "ƒê√¢y l√† m·ªôt nh√† vƒÉn hi·ªán th·ª±c n·ªïi ti·∫øng c·ªßa Vi·ªát Nam, t√™n √¥ng c√≥ hai ch·ªØ, b·∫Øt ƒë·∫ßu b·∫±ng ch·ªØ 'N'.",
            explanation: "Nam Cao (1915-1951) l√† nh√† vƒÉn hi·ªán th·ª±c xu·∫•t s·∫Øc c·ªßa vƒÉn h·ªçc Vi·ªát Nam, t√°c gi·∫£ c·ªßa nhi·ªÅu t√°c ph·∫©m n·ªïi ti·∫øng nh∆∞ \"L√£o H·∫°c\", \"Ch√≠ Ph√®o\", \"ƒê·ªùi th·ª´a\"...",
            memory: "Cu·ªën s√°ch c≈©"
          },
          {
            text: "L√£o H·∫°c c√≥ ho√†n c·∫£nh gia ƒë√¨nh nh∆∞ th·∫ø n√†o?",
            answers: ["v·ª£ m·∫•t", "v·ª£ ch·∫øt", "g√≥a v·ª£", "con trai ƒëi xa", "ngh√®o kh√≥", "c√¥ ƒë∆°n", "m·ªôt m√¨nh"],
            hint: "L√£o s·ªëng m·ªôt m√¨nh sau khi ng∆∞·ªùi th√¢n c·ªßa l√£o ƒë·ªÅu ƒë√£ r·ªùi xa. V·ª£ l√£o ƒë√£ kh√¥ng c√≤n, con trai th√¨...",
            explanation: "L√£o H·∫°c l√† m·ªôt n√¥ng d√¢n ngh√®o, v·ª£ m·∫•t s·ªõm, con trai v√¨ kh√¥ng c√≥ ti·ªÅn c∆∞·ªõi v·ª£ n√™n ph·∫´n ch√≠ b·ªè ƒëi phu ƒë·ªìn ƒëi·ªÅn cao su. L√£o s·ªëng c√¥ ƒë∆°n v·ªõi C·∫≠u V√†ng.",
            memory: "B√≥ng d√°ng con trai"
          }
        ]
      },
      {
        level: 2,
        title: "Ng∆∞·ªùi B·∫°n Tri K·ª∑ ‚Äì B√≥ng h√¨nh C·∫≠u V√†ng",
        visual: "üêï",
        description: "C·∫£nh s√¢n nh√† L√£o H·∫°c. L√£o ƒëang vu·ªët ve m·ªôt ch√∫ ch√≥ v√†ng, √°nh m·∫Øt tr√†n ƒë·∫ßy y√™u th∆∞∆°ng v√† n·ªói bu·ªìn. Ti·∫øng s·ªßa vang v·ªçng t·ª´ xa...",
        questions: [
          {
            text: "C·∫≠u V√†ng c√≥ √Ω nghƒ©a g√¨ ƒë·ªëi v·ªõi L√£o H·∫°c?",
            answers: ["k·ª∑ v·∫≠t", "con trai", "k·ª∑ ni·ªám", "ng∆∞·ªùi b·∫°n", "tri k·ª∑", "gia ƒë√¨nh", "t√¨nh th∆∞∆°ng"],
            hint: "C·∫≠u V√†ng l√† k·ª∑ v·∫≠t c·ªßa ai ƒë·ªÉ l·∫°i cho L√£o? L√£o coi C·∫≠u V√†ng nh∆∞ th·∫ø n√†o?",
            explanation: "C·∫≠u V√†ng l√† con ch√≥ do con trai L√£o H·∫°c ƒë·ªÉ l·∫°i tr∆∞·ªõc khi ƒëi xa. V·ªõi L√£o, C·∫≠u V√†ng kh√¥ng ch·ªâ l√† v·∫≠t nu√¥i m√† c√≤n l√† k·ª∑ v·∫≠t, l√† ng∆∞·ªùi b·∫°n, l√† 'ƒë·ª©a con' c·ªßa l√£o.",
            memory: "H√¨nh ·∫£nh C·∫≠u V√†ng"
          },
          {
            text: "Nh√¢n v·∫≠t k·ªÉ chuy·ªán trong t√°c ph·∫©m l√† ai?",
            answers: ["√¥ng gi√°o", "th·∫ßy gi√°o", "ong giao"],
            hint: "ƒê√¢y l√† ng∆∞·ªùi h√†ng x√≥m c·ªßa L√£o H·∫°c, c√≥ h·ªçc th·ª©c, th∆∞·ªùng ƒë∆∞·ª£c L√£o sang t√¢m s·ª±...",
            explanation: "Nh√¢n v·∫≠t k·ªÉ chuy·ªán l√† '√¥ng gi√°o' - ng∆∞·ªùi h√†ng x√≥m tr√≠ th·ª©c c·ªßa L√£o H·∫°c. Qua con m·∫Øt c·ªßa √¥ng gi√°o, ta th·∫•y ƒë∆∞·ª£c n·ªôi t√¢m v√† s·ªë ph·∫≠n ƒëau th∆∞∆°ng c·ªßa L√£o H·∫°c.",
            memory: "B√≥ng d√°ng √¥ng gi√°o"
          }
        ]
      },
      {
        level: 3,
        title: "N·ªói ƒêau v√† S·ª± L·ª±a Ch·ªçn ‚Äì Quy·∫øt ƒë·ªãnh nghi·ªát ng√£",
        visual: "üî•",
        description: "C·∫£nh L√£o H·∫°c ng·ªìi l·∫∑ng l·∫Ω b√™n b·∫øp l·ª≠a l·∫°nh l·∫Ωo, nh√¨n ra m√†n ƒë√™m. M·ªôt c∆°n ho khan vang l√™n. ƒê√¥i m·∫Øt l√£o ƒë·ªè hoe, ƒë·∫ßy n∆∞·ªõc m·∫Øt...",
        questions: [
          {
            text: "V√¨ sao L√£o H·∫°c ph·∫£i b√°n C·∫≠u V√†ng?",
            answers: ["kh√¥ng nu√¥i n·ªïi", "ƒë√≥i", "ngh√®o", "ti·ªÅn", "h·∫øt ti·ªÅn", "kh√¥ng c√≥ ƒÉn", "s·ª£ ti√™u v√†o ti·ªÅn con"],
            hint: "L√£o ƒë√£ c·ªë g·∫Øng nu√¥i C·∫≠u V√†ng r·∫•t l√¢u, nh∆∞ng ho√†n c·∫£nh ng√†y c√†ng kh√≥ khƒÉn. L√£o lo s·ª£ ƒëi·ªÅu g√¨ n·∫øu ti·∫øp t·ª•c nh∆∞ v·∫≠y?",
            explanation: "L√£o H·∫°c qu√° ngh√®o, kh√¥ng th·ªÉ nu√¥i n·ªïi b·∫£n th√¢n v√† C·∫≠u V√†ng. L√£o s·ª£ n·∫øu ti·∫øp t·ª•c, s·∫Ω ph·∫£i ti√™u v√†o s·ªë ti·ªÅn d√†nh d·ª•m cho con trai. ƒê√¢y l√† quy·∫øt ƒë·ªãnh ƒëau ƒë·ªõn nh·∫•t ƒë·ªùi l√£o.",
            memory: "N·ªói day d·ª©t"
          },
          {
            text: "T√¢m tr·∫°ng c·ªßa L√£o H·∫°c sau khi b√°n C·∫≠u V√†ng nh∆∞ th·∫ø n√†o?",
            answers: ["ƒëau kh·ªï", "√¢n h·∫≠n", "day d·ª©t", "kh√≥c", "bu·ªìn", "h·ªëi h·∫≠n", "d·∫±n v·∫∑t"],
            hint: "Khi k·ªÉ l·∫°i chuy·ªán b√°n C·∫≠u V√†ng cho √¥ng gi√°o, L√£o c√≥ bi·ªÉu hi·ªán g√¨? L√£o t·ª± tr√°ch m√¨nh ƒëi·ªÅu g√¨?",
            explanation: "Sau khi b√°n C·∫≠u V√†ng, L√£o H·∫°c ƒëau kh·ªï, day d·ª©t ƒë·∫øn c√πng c·ª±c. L√£o kh√≥c 'hu hu nh∆∞ con n√≠t', t·ª± tr√°ch m√¨nh l√† 'th·∫±ng gi√† t·ªá l·∫Øm', ƒë√£ l·ª´a m·ªôt con ch√≥...",
            memory: "Gi·ªçt n∆∞·ªõc m·∫Øt"
          }
        ]
      },
      {
        level: 4,
        title: "B√≠ M·∫≠t Cu·ªëi C√πng ‚Äì S·ª± th·∫≠t v·ªÅ c√°i ch·∫øt",
        visual: "üíÄ",
        description: "M√†n ƒë√™m bu√¥ng xu·ªëng. Ti·∫øng ƒë·ªông l·∫° vang l√™n t·ª´ cƒÉn nh√† L√£o H·∫°c. √îng gi√°o v·ªôi v√†ng ch·∫°y sang...",
        questions: [
          {
            text: "L√£o H·∫°c ƒë√£ ch·∫øt nh∆∞ th·∫ø n√†o?",
            answers: ["ƒÉn b·∫£ ch√≥", "b·∫£ ch√≥", "t·ª± t·ª≠", "ƒÉn b·∫£", "t·ª± v·∫´n"],
            hint: "C√°i ch·∫øt c·ªßa L√£o r·∫•t ƒëau ƒë·ªõn, d·ªØ d·ªôi. L√£o ƒë√£ d√πng th·ª© m√† ng∆∞·ªùi ta th∆∞·ªùng d√πng ƒë·ªÉ ƒë·∫ßu ƒë·ªôc m·ªôt lo√†i v·∫≠t...",
            explanation: "L√£o H·∫°c ƒë√£ ch·ªçn c√°i ch·∫øt b·∫±ng b·∫£ ch√≥ - ch·∫•t ƒë·ªôc c·ª±c m·∫°nh. L√£o ch·∫øt trong ƒëau ƒë·ªõn, v·∫≠t v√£, nh∆∞ m·ªôt c√°ch t·ª± tr·ª´ng ph·∫°t b·∫£n th√¢n v√¨ ƒë√£ l·ª´a C·∫≠u V√†ng.",
            memory: "S·ª± th·∫≠t ƒëau l√≤ng"
          },
          {
            text: "T·∫°i sao L√£o H·∫°c l·∫°i ch·ªçn c√°ch ch·∫øt nh∆∞ v·∫≠y?",
            answers: ["kh√¥ng mu·ªën ti√™u ti·ªÅn con", "gi·ªØ ti·ªÅn cho con", "t·ª± tr·ª´ng ph·∫°t", "chu·ªôc t·ªôi", "l∆∞∆°ng t√¢m"],
            hint: "L√£o ƒë√£ g·ª≠i √¥ng gi√°o gi·ªØ h·ªô m·∫£nh v∆∞·ªùn v√† ti·ªÅn. L√£o kh√¥ng mu·ªën ƒëi·ªÅu g√¨ x·∫£y ra v·ªõi s·ªë t√†i s·∫£n ƒë√≥?",
            explanation: "L√£o H·∫°c ch·ªçn c√°i ch·∫øt ƒë·ªÉ kh√¥ng ph·∫£i ti√™u v√†o s·ªë ti·ªÅn v√† m·∫£nh v∆∞·ªùn d√†nh cho con. ƒê·ªìng th·ªùi, ƒë√≥ c≈©ng l√† c√°ch l√£o t·ª± tr·ª´ng ph·∫°t v√¨ ƒë√£ 'l·ª´a' C·∫≠u V√†ng - ch·∫øt nh∆∞ m·ªôt con ch√≥.",
            memory: "T·∫•m l√≤ng cha"
          }
        ]
      },
      {
        level: 5,
        title: "Gi·∫£i Tho√°t ‚Äì ƒêo√†n t·ª• ·ªü th·∫ø gi·ªõi b√™n kia",
        visual: "‚ú®",
        description: "√Ånh s√°ng d·ªãu nh·∫π b·∫Øt ƒë·∫ßu lan t·ªèa. Nh·ªØng k√Ω ·ª©c ƒëau th∆∞∆°ng d·∫ßn tan bi·∫øn. L√£o H·∫°c ng·∫©ng ƒë·∫ßu l√™n, ƒë√¥i m·∫Øt l√£o s√°ng l√™n hy v·ªçng...",
        questions: [
          {
            text: "Qua c√¢u chuy·ªán, Nam Cao mu·ªën ca ng·ª£i ph·∫©m ch·∫•t g√¨ c·ªßa ng∆∞·ªùi n√¥ng d√¢n?",
            answers: ["trung th·ª±c", "l∆∞∆°ng thi·ªán", "t·ª± tr·ªçng", "nh√¢n h·∫≠u", "th∆∞∆°ng con", "cao qu√Ω"],
            hint: "D√π ngh√®o kh·ªï, L√£o H·∫°c v·∫´n gi·ªØ ƒë∆∞·ª£c ƒëi·ªÅu g√¨ m√† nhi·ªÅu ng∆∞·ªùi gi√†u c√≥ ch∆∞a ch·∫Øc ƒë√£ c√≥?",
            explanation: "Nam Cao ca ng·ª£i ph·∫©m ch·∫•t cao qu√Ω c·ªßa ng∆∞·ªùi n√¥ng d√¢n: l∆∞∆°ng thi·ªán, t·ª± tr·ªçng, gi√†u t√¨nh y√™u th∆∞∆°ng. D√π ƒë√≥i kh·ªï, h·ªç v·∫´n gi·ªØ ƒë∆∞·ª£c nh√¢n c√°ch trong s·∫°ch.",
            memory: "√Ånh s√°ng nh√¢n c√°ch"
          },
          {
            text: "C√¢u n√≥i n√†o c·ªßa √¥ng gi√°o th·ªÉ hi·ªán s·ª± thay ƒë·ªïi c√°ch nh√¨n v·ªÅ L√£o H·∫°c?",
            answers: ["kh√¥ng n√™n", "kh√¥ng bi·∫øt", "ch∆∞a bi·∫øt", "cu·ªôc ƒë·ªùi"],
            hint: "√îng gi√°o t·ª´ng nghi ng·ªù L√£o H·∫°c, nh∆∞ng sau khi bi·∫øt s·ª± th·∫≠t, √¥ng ƒë√£ r√∫t ra b√†i h·ªçc g√¨ v·ªÅ c√°ch nh√¨n ng∆∞·ªùi?",
            explanation: "\"Chao √¥i! ƒê·ªëi v·ªõi nh·ªØng ng∆∞·ªùi ·ªü quanh ta, n·∫øu kh√¥ng c·ªë t√¨m m√† hi·ªÉu h·ªç, th√¨ ta ch·ªâ th·∫•y h·ªç g√†n d·ªü, ngu ng·ªëc...\" - √îng gi√°o nh·∫≠n ra m√¨nh ƒë√£ t·ª´ng nh√¨n nh·∫ßm L√£o H·∫°c.",
            memory: "B√†i h·ªçc cu·ªôc ƒë·ªùi"
          }
        ]
      }
    ];

    // Game State
    let gameState = {
      playerName: "",
      currentScene: 0,
      currentQuestion: 0,
      score: 0,
      memoriesCollected: 0,
      journalEntries: [],
      isPlaying: false
    };

    // DOM Elements
    const elements = {
      startScreen: document.getElementById('start-screen'),
      gameScreen: document.getElementById('game-screen'),
      endScreen: document.getElementById('end-screen'),
      progressContainer: document.getElementById('progress-container'),
      progressBar: document.getElementById('progress-bar'),
      progressDog: document.getElementById('progress-dog'),
      progressText: document.getElementById('progress-text'),
      playerNameInput: document.getElementById('player-name-input'),
      startBtn: document.getElementById('start-btn'),
      levelBadge: document.getElementById('level-badge'),
      sceneTitle: document.getElementById('scene-title'),
      sceneVisual: document.getElementById('scene-visual'),
      sceneDescription: document.getElementById('scene-description'),
      questionText: document.getElementById('question-text'),
      answerInput: document.getElementById('answer-input'),
      submitAnswerBtn: document.getElementById('submit-answer-btn'),
      hintBtn: document.getElementById('hint-btn'),
      feedbackArea: document.getElementById('feedback-area'),
      feedbackIcon: document.getElementById('feedback-icon'),
      feedbackTitle: document.getElementById('feedback-title'),
      feedbackText: document.getElementById('feedback-text'),
      continueBtn: document.getElementById('continue-btn'),
      hintArea: document.getElementById('hint-area'),
      hintText: document.getElementById('hint-text'),
      scoreDisplay: document.getElementById('score-display'),
      memoryFragments: document.getElementById('memory-fragments'),
      journalContainer: document.getElementById('journal-container'),
      journalEntries: document.getElementById('journal-entries'),
      endPlayerName: document.getElementById('end-player-name'),
      finalScore: document.getElementById('final-score'),
      finalMemories: document.getElementById('final-memories'),
      restartBtn: document.getElementById('restart-btn'),
      gameTitle: document.getElementById('game-title'),
      gameSubtitle: document.getElementById('game-subtitle')
    };

    // Total questions count
    const totalQuestions = gameScenes.reduce((sum, scene) => sum + scene.questions.length, 0);

    // Initialize SDK
    async function initializeApp() {
      // Initialize Element SDK
      if (window.elementSdk) {
        window.elementSdk.init({
          defaultConfig,
          onConfigChange: async (config) => {
            applyConfig(config);
          },
          mapToCapabilities: (config) => ({
            recolorables: [
              {
                get: () => config.background_color || defaultConfig.background_color,
                set: (value) => window.elementSdk.setConfig({ background_color: value })
              },
              {
                get: () => config.surface_color || defaultConfig.surface_color,
                set: (value) => window.elementSdk.setConfig({ surface_color: value })
              },
              {
                get: () => config.text_color || defaultConfig.text_color,
                set: (value) => window.elementSdk.setConfig({ text_color: value })
              },
              {
                get: () => config.primary_action_color || defaultConfig.primary_action_color,
                set: (value) => window.elementSdk.setConfig({ primary_action_color: value })
              },
              {
                get: () => config.secondary_action_color || defaultConfig.secondary_action_color,
                set: (value) => window.elementSdk.setConfig({ secondary_action_color: value })
              }
            ],
            borderables: [],
            fontEditable: undefined,
            fontSizeable: undefined
          }),
          mapToEditPanelValues: (config) => new Map([
            ["main_title", config.main_title || defaultConfig.main_title],
            ["subtitle", config.subtitle || defaultConfig.subtitle]
          ])
        });
      }

      // Initialize Data SDK
      if (window.dataSdk) {
        const result = await window.dataSdk.init({
          onDataChanged: (data) => {
            // Check for existing save data
            if (data.length > 0) {
              const latestSave = data[data.length - 1];
              // Could implement save/load feature here
            }
          }
        });
        if (!result.isOk) {
          console.error("Failed to initialize Data SDK");
        }
      }

      // Setup event listeners
      setupEventListeners();
    }

    // Apply configuration
    function applyConfig(config) {
      const bgColor = config.background_color || defaultConfig.background_color;
      const surfaceColor = config.surface_color || defaultConfig.surface_color;
      const textColor = config.text_color || defaultConfig.text_color;
      const primaryColor = config.primary_action_color || defaultConfig.primary_action_color;
      const secondaryColor = config.secondary_action_color || defaultConfig.secondary_action_color;

      // Update wrapper background
      const wrapper = document.getElementById('app-wrapper');
      if (wrapper) {
        wrapper.style.background = `linear-gradient(180deg, ${bgColor} 0%, ${surfaceColor} 50%, ${bgColor} 100%)`;
      }

      // Update text colors
      document.body.style.color = textColor;

      // Update title and subtitle
      if (elements.gameTitle) {
        elements.gameTitle.textContent = config.main_title || defaultConfig.main_title;
      }
      if (elements.gameSubtitle) {
        elements.gameSubtitle.textContent = config.subtitle || defaultConfig.subtitle;
      }

      // Update buttons with primary color
      const buttons = document.querySelectorAll('.btn-ancient');
      buttons.forEach(btn => {
        btn.style.background = `linear-gradient(135deg, ${primaryColor} 0%, ${adjustColor(primaryColor, -20)} 100%)`;
        btn.style.borderColor = secondaryColor;
      });
    }

    // Utility function to adjust color brightness
    function adjustColor(hex, percent) {
      const num = parseInt(hex.replace('#', ''), 16);
      const r = Math.min(255, Math.max(0, (num >> 16) + percent));
      const g = Math.min(255, Math.max(0, ((num >> 8) & 0x00FF) + percent));
      const b = Math.min(255, Math.max(0, (num & 0x0000FF) + percent));
      return `#${((r << 16) | (g << 8) | b).toString(16).padStart(6, '0')}`;
    }

    // Setup event listeners
    function setupEventListeners() {
      elements.startBtn.addEventListener('click', startGame);
      elements.submitAnswerBtn.addEventListener('click', submitAnswer);
      elements.answerInput.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') submitAnswer();
      });
      elements.hintBtn.addEventListener('click', showHint);
      elements.continueBtn.addEventListener('click', nextQuestion);
      elements.restartBtn.addEventListener('click', restartGame);
    }

    // Start Game
    function startGame() {
      const name = elements.playerNameInput.value.trim() || "Th√°m T·ª≠ ·∫®n Danh";
      gameState.playerName = name;
      gameState.isPlaying = true;
      gameState.currentScene = 0;
      gameState.currentQuestion = 0;
      gameState.score = 0;
      gameState.memoriesCollected = 0;
      gameState.journalEntries = [];

      elements.startScreen.classList.add('hidden');
      elements.gameScreen.classList.remove('hidden');
      elements.progressContainer.classList.remove('hidden');
      elements.journalContainer.classList.remove('hidden');

      addJournalEntry(`üîÆ ${name} b·∫Øt ƒë·∫ßu h√†nh tr√¨nh gi·∫£i c·ª©u linh h·ªìn L√£o H·∫°c...`);
      loadScene();
    }

    // Load Scene
    function loadScene() {
      const scene = gameScenes[gameState.currentScene];
      const question = scene.questions[gameState.currentQuestion];

      elements.levelBadge.textContent = `M√†n ${scene.level}`;
      elements.sceneTitle.textContent = scene.title;
      elements.sceneVisual.textContent = scene.visual;
      elements.sceneDescription.textContent = scene.description;
      elements.questionText.textContent = question.text;
      elements.answerInput.value = "";
      elements.feedbackArea.classList.add('hidden');
      elements.hintArea.classList.add('hidden');
      elements.scoreDisplay.textContent = gameState.score;

      updateProgress();
      updateMemoryFragments();

      // Add scene entry to journal if first question of scene
      if (gameState.currentQuestion === 0) {
        addJournalEntry(`üìç ƒê·∫øn ${scene.title}`);
      }
    }

    // Submit Answer
    function submitAnswer() {
      const answer = elements.answerInput.value.trim().toLowerCase();
      if (!answer) return;

      const scene = gameScenes[gameState.currentScene];
      const question = scene.questions[gameState.currentQuestion];

      const isCorrect = question.answers.some(a => answer.includes(a.toLowerCase()));

      if (isCorrect) {
        gameState.score += 100;
        gameState.memoriesCollected++;

        elements.feedbackArea.classList.remove('hidden');
        elements.feedbackArea.className = 'mt-4 p-4 rounded-xl bg-green-900/30 border border-green-700/50';
        elements.feedbackIcon.textContent = '‚ú®';
        elements.feedbackTitle.textContent = 'Ch√≠nh x√°c!';
        elements.feedbackTitle.className = 'font-semibold text-lg mb-1 text-green-300';
        elements.feedbackText.textContent = question.explanation;
        elements.feedbackText.className = 'text-sm text-green-200/90';

        addJournalEntry(`‚ú® Thu th·∫≠p m·∫£nh k√Ω ·ª©c: ${question.memory}`);
      } else {
        elements.feedbackArea.classList.remove('hidden');
        elements.feedbackArea.className = 'mt-4 p-4 rounded-xl bg-red-900/30 border border-red-700/50';
        elements.feedbackIcon.textContent = '‚ùå';
        elements.feedbackTitle.textContent = 'Ch∆∞a ch√≠nh x√°c...';
        elements.feedbackTitle.className = 'font-semibold text-lg mb-1 text-red-300';
        elements.feedbackText.textContent = question.explanation;
        elements.feedbackText.className = 'text-sm text-red-200/90';
        elements.continueBtn.textContent = 'Ti·∫øp t·ª•c ‚Üí';
      }

      elements.scoreDisplay.textContent = gameState.score;
      updateProgress();
      updateMemoryFragments();
    }

    // Show Hint
    function showHint() {
      const scene = gameScenes[gameState.currentScene];
      const question = scene.questions[gameState.currentQuestion];

      elements.hintArea.classList.remove('hidden');
      elements.hintText.textContent = question.hint;
    }

    // Next Question
    function nextQuestion() {
      const scene = gameScenes[gameState.currentScene];

      if (gameState.currentQuestion < scene.questions.length - 1) {
        gameState.currentQuestion++;
        loadScene();
      } else if (gameState.currentScene < gameScenes.length - 1) {
        gameState.currentScene++;
        gameState.currentQuestion = 0;
        loadScene();
      } else {
        endGame();
      }
    }

    // Update Progress
    function updateProgress() {
      const progress = (gameState.memoriesCollected / totalQuestions) * 100;
      elements.progressBar.style.width = `${progress}%`;
      elements.progressDog.style.left = `${Math.max(5, Math.min(90, progress))}%`;
      elements.progressText.textContent = `M·∫£nh k√Ω ·ª©c: ${gameState.memoriesCollected}/${totalQuestions}`;
    }

    // Update Memory Fragments Display
    function updateMemoryFragments() {
      const fragments = [];
      for (let i = 0; i < totalQuestions; i++) {
        if (i < gameState.memoriesCollected) {
          fragments.push('<span class="w-3 h-3 bg-amber-400/80 rounded-full inline-block"></span>');
        } else {
          fragments.push('<span class="w-3 h-3 bg-stone-600/50 rounded-full inline-block"></span>');
        }
      }
      elements.memoryFragments.innerHTML = fragments.join('');
    }

    // Add Journal Entry
    function addJournalEntry(text) {
      gameState.journalEntries.unshift(text);
      if (gameState.journalEntries.length > 5) {
        gameState.journalEntries.pop();
      }
      elements.journalEntries.innerHTML = gameState.journalEntries
        .map(entry => `<div class="opacity-80">${entry}</div>`)
        .join('');
    }

    // End Game
    async function endGame() {
      elements.gameScreen.classList.add('hidden');
      elements.endScreen.classList.remove('hidden');
      elements.progressContainer.classList.add('hidden');

      elements.endPlayerName.textContent = gameState.playerName;
      elements.finalScore.textContent = gameState.score;
      elements.finalMemories.textContent = `${gameState.memoriesCollected}/${totalQuestions}`;

      // Save game completion
      if (window.dataSdk) {
        const result = await window.dataSdk.create({
          player_name: gameState.playerName,
          current_level: gameScenes.length,
          total_score: gameState.score,
          memories_collected: gameState.memoriesCollected,
          completed_at: new Date().toISOString()
        });
        if (!result.isOk) {
          console.error("Failed to save game data");
        }
      }
    }

    // Restart Game
    function restartGame() {
      elements.endScreen.classList.add('hidden');
      elements.startScreen.classList.remove('hidden');
      elements.journalContainer.classList.add('hidden');
      elements.playerNameInput.value = "";

      gameState = {
        playerName: "",
        currentScene: 0,
        currentQuestion: 0,
        score: 0,
        memoriesCollected: 0,
        journalEntries: [],
        isPlaying: false
      };
    }

    // Initialize the app
    initializeApp();
 
    <div id="leaderboard-panel"
     class="fixed top-4 right-4 z-50 w-72 bg-stone-900/90 backdrop-blur-lg border border-amber-700/40 rounded-xl shadow-2xl p-3 text-stone-200 font-body">
    
      <div class="flex items-center justify-between mb-2">
        <div class="font-title text-amber-200 text-lg">üèÜ B·∫£ng X·∫øp H·∫°ng</div>
        <button onclick="toggleLeaderboard()" class="text-stone-400 hover:text-amber-200">‚úñ</button>
      </div>
    
      <div id="leaderboard-list" class="space-y-2 text-sm max-h-64 overflow-y-auto"></div>
    </div>
    
    <script>
    let leaderboardVisible = true;
    
    function toggleLeaderboard(){
      leaderboardVisible = !leaderboardVisible;
      document.getElementById("leaderboard-panel").style.display =
        leaderboardVisible ? "block" : "none";
    }
    
    async function loadLeaderboard(){
      if(!window.dataSdk) return;
    
      const result = await window.dataSdk.list();
      if(!result.isOk) return;
    
      const scores = result.data
        .filter(x => x.total_score)
        .sort((a,b)=>b.total_score - a.total_score)
        .slice(0,10);
    
      const list = document.getElementById("leaderboard-list");
    
      list.innerHTML = scores.map((p,i)=>`
        <div class="flex justify-between bg-stone-800/60 rounded-lg px-3 py-2 border border-stone-700/40">
          <div>
            <span class="text-amber-300 font-semibold">#${i+1}</span>
            <span class="ml-1">${p.player_name || "·∫®n danh"}</span>
          </div>
          <div class="text-amber-200 font-title">${p.total_score}</div>
        </div>
      `).join("");
    }
    
    setInterval(loadLeaderboard, 5000);
    document.addEventListener("DOMContentLoaded", loadLeaderboard);
    </script>
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9bd507413409211d',t:'MTc2ODMwODcyMS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>


